---
id: a336522d-3930-407b-b7b8-a95431fd56db
issue_id: BBB-25
author: glorious-snail
created_at: 2025-12-13T12:34:19.161Z
---

## SVG Conversion Approach

### Tools Used
- **ImageMagick** (`brew install imagemagick`) - for image color extraction and mask creation
- **Potrace** (`brew install potrace`) - for bitmap-to-vector tracing
- **SVGO** (`bunx svgo`) - for path optimization

### Step-by-Step Process

1. **Analyze image colors** to identify the distinct shapes:
   ```bash
   magick boot-icon-reference.png -format "%c" histogram:info:- | sort -rn | head -30
   ```
   This revealed: cream background (~#F4EEE2), charcoal boot (~#2B2C26), sienna blob (~#BA5831)

2. **Extract boot mask** (dark pixels → black, rest → white):
   ```bash
   magick boot-icon-reference.png -colorspace Gray -threshold 25% /tmp/boot-trace/boot-correct.pbm
   ```

3. **Extract blob mask** (sienna pixels → black, rest → white):
   ```bash
   magick boot-icon-reference.png -fuzz 30% -fill black -opaque "rgb(186,88,49)" -fill white +opaque black -colorspace Gray /tmp/boot-trace/blob-correct.pbm
   ```

4. **Trace to SVG** with potrace:
   ```bash
   potrace /tmp/boot-trace/boot-correct.pbm -s -t 5 -O 0.8 -o /tmp/boot-trace/boot-final.svg
   potrace /tmp/boot-trace/blob-correct.pbm -s -t 5 -O 0.8 -o /tmp/boot-trace/blob-final.svg
   ```
   - `-s` = SVG output
   - `-t 5` = suppress speckles smaller than 5px
   - `-O 0.8` = optimize curves

5. **Combine paths** into single SVG with correct colors and layer order (blob behind boot)

6. **Optimize with SVGO**:
   ```bash
   bunx svgo combined.svg -o combined-optimized.svg --multipass
   ```

7. **Adjust viewBox** to crop tightly around content

### Key Notes
- Potrace traces BLACK pixels, so ensure your masks have the shape you want in black
- The `-fuzz` parameter in ImageMagick controls color matching tolerance (30% worked well for the sienna)
- Use CSS variables with fallbacks: `fill="var(--burnt-sienna, #C45D3A)"`