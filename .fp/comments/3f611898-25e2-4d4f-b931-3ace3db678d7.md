---
id: "3f611898-25e2-4d4f-b931-3ace3db678d7"
issue_id: BBB-25
author: glorious-snail
created_at: "2025-12-13T12:49:23.927Z"
---

## Lesson Learned: ViewBox & Aspect Ratio

When converting a raster image to SVG icon, don't force a square viewBox if the content isn't square - this causes clipping.

### The Problem
- Original SVG had viewBox `0 0 2816 1536` (aspect ratio ~1.83:1)
- Icon component had `width={size} height={size}` (square)
- SVG's default `preserveAspectRatio="xMidYMid meet"` scales to fit, but parent containers with `overflow: hidden` clip the excess

### The Fix
Calculate width from aspect ratio:
```astro
const { size = 24 } = Astro.props;
const width = Math.round(size * 1.83); // Match viewBox aspect ratio

<svg width={width} height={size} viewBox="0 0 2816 1536">
```

### Key Takeaway
Always match your SVG's `width`/`height` attributes to the viewBox aspect ratio, or the icon will clip when placed in containers that don't allow overflow.
